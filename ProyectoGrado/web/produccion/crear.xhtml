<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:composition template="/plantilla_modal.xhtml">

        <ui:define name="content">
            #{produccionController.resetear()}

            <h:form>
                <p:panel> 

                    <p:growl id="mensajes" sticky="true" showDetail="true"/>                
                    <br/>

                    <h:panelGrid columns="2">
                        <p:outputLabel value="Tipo" for="codtipo" />
                        <p:selectOneMenu id="codtipo" value="#{produccionController.campo.tipo}"> 
                            <f:selectItem itemLabel="Seleccione" itemValue="0" />
                            <f:selectItem itemLabel="Producción Intelectual" itemValue="1" />
                            <f:selectItem itemLabel="Producción Investigativa" itemValue="2" />                               
                            <p:ajax event="change" update="pnlContainer"/> 
                        </p:selectOneMenu>                        
                    </h:panelGrid>  

                    <p:outputPanel id="pnlContainer" layout="block">
                        <h:panelGrid columns="2" rendered="#{produccionController.campo.tipo eq 1}">

                            <p:outputLabel value="Tipo Producción" for="tipo_prod" rendered="#{produccionController.campo.tipo eq 1}"/>
                            <p:selectOneMenu id="tipo_prod" value="#{produccionController.campo.tipo_prod_part}" rendered="#{produccionController.campo.tipo eq 1}">
                                <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                <f:selectItem itemLabel="Artículo de libros, revistas o periódicos" itemValue="1" />
                                <f:selectItem itemLabel="Libros completos" itemValue="2" />
                                <f:selectItem itemLabel="Capítulos" itemValue="3" />
                            </p:selectOneMenu> 

                            <p:outputLabel value="Nombre Producción" for="nomb" rendered="#{produccionController.campo.tipo eq 1}"/>
                            <p:inputText id="nomb" value="#{produccionController.campo.nombre}" rendered="#{produccionController.campo.tipo eq 1}"/>

                            <p:outputLabel value="Editorial /Nombre revista /Otros datos" for="edi" rendered="#{produccionController.campo.tipo eq 1}"/>
                            <p:inputText id="edi" value="#{produccionController.campo.editorial_inv}" rendered="#{produccionController.campo.tipo eq 1}"/>

                            <p:outputLabel value="Libros" for="lib" rendered="#{produccionController.campo.tipo eq 1}"/>
                            <p:inputText id="lib" value="#{produccionController.campo.libros}" rendered="#{produccionController.campo.tipo eq 1}"/>                            

                            <p:outputLabel value="Año" for="ano" rendered="#{produccionController.campo.tipo eq 1}"/>
                            <p:inputText id="ano" value="#{produccionController.campo.ano}" rendered="#{produccionController.campo.tipo eq 1}"/>

                            <f:facet name="footer">
                                <p:commandButton value="#{actividadesTxt.crear}" actionListener="#{produccionController.agregar()}" ajax="false"/>                             
                            </f:facet>
                        </h:panelGrid>

                        <h:panelGrid columns="2" rendered="#{produccionController.campo.tipo eq 2}">

                            <p:outputLabel value="Tipo Participación" for="tipo_part" rendered="#{produccionController.campo.tipo eq 2}"/>
                            <p:selectOneMenu id="tipo_part" value="#{produccionController.campo.tipo_prod_part}" rendered="#{produccionController.campo.tipo eq 2}">
                                <f:selectItem itemLabel="Seleccione" itemValue="0" />
                                <f:selectItem itemLabel="Investigador Principal" itemValue="IP" />
                                <f:selectItem itemLabel="Investigador" itemValue="IV" />
                                <f:selectItem itemLabel="Asistente de Investigación" itemValue="AI" />
                                <f:selectItem itemLabel="Estudiante Investigación" itemValue="EI" />
                            </p:selectOneMenu>     

                            <p:outputLabel value="Institución" for="inst" rendered="#{produccionController.campo.tipo eq 2}"/>
                            <p:inputText id="inst" value="#{produccionController.campo.nombre}" rendered="#{produccionController.campo.tipo eq 2}"/>

                            <p:outputLabel value="Investigación" for="inv" rendered="#{produccionController.campo.tipo eq 2}"/>
                            <p:inputText id="inv" value="#{produccionController.campo.editorial_inv}" rendered="#{produccionController.campo.tipo eq 2}"/>

                            <p:outputLabel value="Años" for="num_ano" rendered="#{produccionController.campo.tipo eq 2}"/>
                            <p:inputText id="num_ano" value="#{produccionController.campo.num_anos}" rendered="#{produccionController.campo.tipo eq 2}"/>

                            <p:outputLabel value="Meses" for="meses" rendered="#{produccionController.campo.tipo eq 2}"/>
                            <p:inputText id="meses" value="#{produccionController.campo.meses}" rendered="#{produccionController.campo.tipo eq 2}"/>

                            <p:outputLabel value="Estado" for="est" rendered="#{produccionController.campo.tipo eq 2}"/>
                            <p:inputText id="est" value="#{produccionController.campo.estado}" rendered="#{produccionController.campo.tipo eq 2}"/>

                            <f:facet name="footer">
                                <p:commandButton value="#{actividadesTxt.crear}" actionListener="#{produccionController.agregar()}" ajax="false"/>                             
                            </f:facet>
                        </h:panelGrid>
                    </p:outputPanel>
                </p:panel> 
            </h:form>

        </ui:define>

    </ui:composition>
</html>

